!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function n(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}var r=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscCloseAux=this._handleEscClose.bind(this),this.setEventListeners()},n=[{key:"open",value:function(){this._popupElement.style.display="block",window.addEventListener("keydown",this._handleEscCloseAux)}},{key:"close",value:function(){this._popupElement.style.display="none",window.removeEventListener("keydown",this._handleEscCloseAux)}},{key:"_handleEscClose",value:function(e){27==(e.keyCode||e.which)&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.querySelector(".popup__close, .popup__close-add, .modalImage__close").addEventListener("click",(function(){e.close()})),this._popupElement.addEventListener("click",(function(t){(t.target==e._popupElement||t.target.classList.contains("modalImage__content"))&&e.close()}))}}],n&&t(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}function u(e,t,n){return t=s(t),function(e,t){if(t&&("object"==o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c()?Reflect.construct(t,n||[],s(e).constructor):t.apply(e,n))}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},l.apply(null,arguments)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var p=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=u(this,t,[e]))._popupImage=n._popupElement.querySelector(".modalImage__open"),n._popupTitle=n._popupElement.querySelector(".modalImage__description"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),n=t,r=[{key:"open",value:function(e,n){var r,o,i;this._popupImage.src=n,this._popupTitle.textContent=e,(r=t,o=this,i=l(s(1&3?r.prototype:r),"open",o),function(e){return i.apply(o,e)})([])}}],r&&i(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r),m=(document.getElementById("ventana_modal"),document.getElementById("btn_open_modal")),y=(document.getElementById("btn_close_modal"),document.querySelector(".modalImage"),document.querySelector("#ventana_modal-add"),document.querySelector(".profile__button-add")),d=(document.querySelector("#btn_close_modal-add"),document.querySelector(".profile-info__avatar_name")),v=document.querySelector(".profile-info__avatar_ocupation"),b=(document.querySelector(".modalImage"),document.querySelector("#input_name")),_=document.querySelector("#input_about"),h=new p(".modalImage");function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function g(e){var t=function(e){if("object"!=w(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==w(t)?t:t+""}var E=function(){return e=function e(t,n,r,o){var i=o.handleCardClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._link=n,this._template=r,this._handleCardClick=i},(t=[{key:"_getTemplate",value:function(){return document.querySelector(this._template).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._element.querySelector(".elements-card__element_image").src=this._link,this._element.querySelector(".elements-name__place").textContent=this._name,this._setEventListeners(),this._element}},{key:"_handlerOpenPopup",value:function(){var e,t,n,r,o,i;e=this._name,t=this._link,n=document.querySelector(".modalImage"),r=document.querySelector(".modalImage__close"),o=document.querySelector(".modalImage__open"),i=document.querySelector(".modalImage__description"),n.style.display="block",o.src=t,i.textContent=e,r.addEventListener("click",(function(e){n.style.display="none"}))}},{key:"_handlerLike",value:function(){this._element.querySelector(".elements-name__place_like").classList.toggle("elements-name__place_like_active")}},{key:"_handleRemove",value:function(){this.removeCard=this._element.remove()}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".elements-card__element_image").addEventListener("click",(function(){e._handleCardClick(e._name,e._link)})),this._element.querySelector(".elements-card__element_trash").addEventListener("click",(function(){e._handleRemove()})),this._element.querySelector(".elements-name__place_like").addEventListener("click",(function(){e._handlerLike()}))}}])&&S(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function O(e){var t=function(e){if("object"!=k(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==k(t)?t:t+""}var P=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formElement=t},(t=[{key:"enableValidation",value:function(){this._setEventListener(this._formElement)}},{key:"_setEventListener",value:function(e){var t=this,n=Array.from(e.querySelectorAll(".popup__info")),r=e.querySelector("[type=submit]");this._toggleSubmitButton(n,r),n.forEach((function(o){o.addEventListener("input",(function(i){o.validity.valid?(o.classList.remove("form__input_type_error"),t._hideErrorMessage(e,o)):(o.classList.add("form__input_type_error"),t._showErrorMessage(e,o)),t._toggleSubmitButton(n,r)}))}))}},{key:"_showErrorMessage",value:function(e,t){e.querySelector(".popup__error_".concat(t.name)).textContent=t.validationMessage}},{key:"_hideErrorMessage",value:function(e,t){e.querySelector(".popup__error_".concat(t.name)).textContent=""}},{key:"_toggleSubmitButton",value:function(e,t){var n=this._isFormValid(e);t.disabled=!n}},{key:"_isFormValid",value:function(e){return e.every((function(e){return e.validity.valid}))}}])&&j(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function L(e){var t=function(e){if("object"!=C(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==C(t)?t:t+""}var I=function(){return e=function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this.container=document.querySelector(n)},(t=[{key:"renderer",value:function(){var e=this;this._items.forEach((function(t){return e._renderer(t)}))}},{key:"addItem",value:function(e){this.container.append(e)}}])&&q(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,B(r.key),r)}}function B(e){var t=function(e){if("object"!=T(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==T(t)?t:t+""}var R=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._username=document.querySelector(t),this._job=document.querySelector(n)},(t=[{key:"getUserInfo",value:function(){return{username:this._username.textContent.trim(),job:this._job.textContent.trim()}}},{key:"setUserInfo",value:function(e){var t=e.username,n=e.job;this._username.textContent=t,this._job.textContent=n}}])&&x(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,z(r.key),r)}}function z(e){var t=function(e){if("object"!=V(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==V(t)?t:t+""}function M(e,t,n){return t=F(t),function(e,t){if(t&&("object"==V(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,W()?Reflect.construct(t,n||[],F(e).constructor):t.apply(e,n))}function W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(W=function(){return!!e})()}function D(e,t,n,r){var o=U(F(1&r?e.prototype:e),t,n);return 2&r?function(e){return o.apply(n,e)}:o}function U(){return U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=F(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},U.apply(null,arguments)}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}function N(e,t){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},N(e,t)}var Y=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=M(this,t,[e]))._submitCallback=n,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(t,e),n=t,(r=[{key:"_getInputValues",value:function(){var e={},t=this._popupElement.querySelector("form");return Array.from(t.querySelectorAll("input")).forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;D(t,"setEventListeners",this,3)([]);var n=this._popupElement.querySelector("form");n.addEventListener("submit",(function(t){t.preventDefault(),e._submitCallback(e._getInputValues()),n.reset(),e.close()}))}},{key:"close",value:function(){this._popupElement.querySelector("form"),D(t,"close",this,3)([])}}])&&A(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r),G=document.querySelector(".popup__container"),H=document.querySelector("#popup_addCard"),J=document.querySelector(".elements"),K=new p("#popup_add"),Q=new Y("#ventana_modal-add",(function(e){var t=new E(e.name,e.link,".template-card",{handleCardClick:function(){K.open(e.name,e.link)}});J.prepend(t.generateCard())})),X=new R(".profile-info__avatar_name",".profile-info__avatar_ocupation"),Z=new Y("#ventana_modal",(function(e){d.textContent=e.name,v.textContent=e.about,Z.close()}));m.addEventListener("click",(function(){Z.open();var e=X.getUserInfo();b.textContent=e.username,_.textContents=e.job})),y.addEventListener("click",(function(){Q.open()})),new P(G).enableValidation(),new P(H).enableValidation();var $=new I({items:[{name:"Valle de Yosemite",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/yosemite.jpg"},{name:"Lago Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lake-louise.jpg"},{name:"MontaÃ±as Calvas",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/latemar.jpg"},{name:"Parque Nacional de la Vanoise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lago.jpg"}],renderer:function(e){var t,n,r=(t=e.name,n=e.link,new E(t,n,".template-card",{handleCardClick:function(){h.open(t,n)}}).generateCard());$.addItem(r)}},".elements");$.renderer()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FFRixhQUdGRCxFQUFhekMsVSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlQXV4ID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2VBdXgpO1xuICB9XG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlQXV4KTtcbiAgfVxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgLy9GdW5jaW9uIHBhcmEgY2VycmFyIG1vZGFsIGNvbiB0ZWNsYSBFU0NcblxuICAgIGNvbnN0IGVzYyA9IGV2dC5rZXlDb2RlIHx8IGV2dC53aGljaDtcbiAgICBpZiAoZXNjID09IDI3KSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIC8vRnVuY2lvbiBwYXJhIGNlcnJhciBlbCBtb2RhbCBlbiBzdXBlcnBvc2ljaW9uXG5cbiAgICB0aGlzLl9wb3B1cEVsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZSwgLnBvcHVwX19jbG9zZS1hZGQsIC5tb2RhbEltYWdlX19jbG9zZVwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH0pO1xuXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBlLnRhcmdldCA9PSB0aGlzLl9wb3B1cEVsZW1lbnQgfHxcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxJbWFnZV9fY29udGVudFwiKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbEltYWdlX19vcGVuXCIpO1xuICAgIHRoaXMuX3BvcHVwVGl0bGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLm1vZGFsSW1hZ2VfX2Rlc2NyaXB0aW9uXCJcbiAgICApO1xuICB9XG4gIG9wZW4obmFtZSwgbGluaykge1xuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gbGluaztcbiAgICB0aGlzLl9wb3B1cFRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuZXhwb3J0IGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2ZW50YW5hX21vZGFsXCIpO1xuZXhwb3J0IGNvbnN0IGJvdG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5fb3Blbl9tb2RhbFwiKTsgLy9ib3RvbiBxdWUgYWJyZSBlbCBtb2RhbFxuZXhwb3J0IGNvbnN0IGNlcnJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuX2Nsb3NlX21vZGFsXCIpOyAvL2JvdG9uIHF1ZSBjaWVycmEgZWwgbW9kYWxcbmV4cG9ydCBjb25zdCBtb2RhbEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbEltYWdlXCIpO1xuZXhwb3J0IGNvbnN0IG1vZGFsQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN2ZW50YW5hX21vZGFsLWFkZFwiKTtcbmV4cG9ydCBjb25zdCBidG5BZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2J1dHRvbi1hZGRcIik7XG5leHBvcnQgY29uc3QgYnRuQ2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2J0bl9jbG9zZV9tb2RhbC1hZGRcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGUtaW5mb19fYXZhdGFyX25hbWVcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZUFib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIucHJvZmlsZS1pbmZvX19hdmF0YXJfb2N1cGF0aW9uXCJcbik7XG5leHBvcnQgY29uc3QgcG9wdXBDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbEltYWdlXCIpO1xuZXhwb3J0IGNvbnN0IGlucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXRfbmFtZVwiKTtcbmV4cG9ydCBjb25zdCBpbnB1dEFib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbnB1dF9hYm91dFwiKTtcbmNvbnN0IHBvcHVwSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIubW9kYWxJbWFnZVwiKTtcblxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5JbWFnZVBvcHVwKG5hbWUsIGxpbmspIHtcbiAgY29uc3QgSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsSW1hZ2VcIik7XG4gIGNvbnN0IGNsb3NlSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsSW1hZ2VfX2Nsb3NlXCIpO1xuICBjb25zdCBvcGVuSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsSW1hZ2VfX29wZW5cIik7XG4gIGNvbnN0IHRpdGxlSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsSW1hZ2VfX2Rlc2NyaXB0aW9uXCIpO1xuICBJbWFnZS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICBvcGVuSW1hZ2Uuc3JjID0gbGluaztcbiAgdGl0bGVJbWFnZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gIGNsb3NlSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChldnQpIHtcbiAgICBJbWFnZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FyZEdlbmVyYXRvcihuYW1lLCBsaW5rKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChuYW1lLCBsaW5rLCBcIi50ZW1wbGF0ZS1jYXJkXCIsIHtcbiAgICBoYW5kbGVDYXJkQ2xpY2s6ICgpID0+IHtcbiAgICAgIHBvcHVwSW1hZ2Uub3BlbihuYW1lLCBsaW5rKTtcbiAgICB9LFxuICB9KTtcbiAgcmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG59XG4iLCJpbXBvcnQgeyBvcGVuSW1hZ2VQb3B1cCB9IGZyb20gXCIuLi91dGlscy91dGlscy5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IobmFtZSwgbGluaywgdGVtcGxhdGUsIHsgaGFuZGxlQ2FyZENsaWNrIH0pIHtcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICB0aGlzLl9saW5rID0gbGluaztcbiAgICB0aGlzLl90ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgfVxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGUpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50cy1jYXJkX19lbGVtZW50X2ltYWdlXCIpLnNyYyA9XG4gICAgICB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50cy1uYW1lX19wbGFjZVwiKS50ZXh0Q29udGVudCA9XG4gICAgICB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cblxuICBfaGFuZGxlck9wZW5Qb3B1cCgpIHtcbiAgICBvcGVuSW1hZ2VQb3B1cCh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgfVxuXG4gIF9oYW5kbGVyTGlrZSgpIHtcbiAgICB0aGlzLl9lbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50cy1uYW1lX19wbGFjZV9saWtlXCIpXG4gICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRzLW5hbWVfX3BsYWNlX2xpa2VfYWN0aXZlXCIpO1xuICB9XG4gIF9oYW5kbGVSZW1vdmUoKSB7XG4gICAgdGhpcy5yZW1vdmVDYXJkID0gdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgfVxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHMtY2FyZF9fZWxlbWVudF9pbWFnZVwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgICAgIH0pO1xuXG4gICAgdGhpcy5fZWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHMtY2FyZF9fZWxlbWVudF90cmFzaFwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZVJlbW92ZSgpO1xuICAgICAgfSk7XG5cbiAgICB0aGlzLl9lbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50cy1uYW1lX19wbGFjZV9saWtlXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlckxpa2UoKTtcbiAgICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVyKHRoaXMuX2Zvcm1FbGVtZW50KTtcbiAgfVxuICBfc2V0RXZlbnRMaXN0ZW5lcihmb3JtRWxlbWVudHMpIHtcbiAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBBcnJheS5mcm9tKFxuICAgICAgZm9ybUVsZW1lbnRzLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2luZm9cIilcbiAgICApO1xuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGZvcm1FbGVtZW50cy5xdWVyeVNlbGVjdG9yKFwiW3R5cGU9c3VibWl0XVwiKTtcbiAgICB0aGlzLl90b2dnbGVTdWJtaXRCdXR0b24oaW5wdXRFbGVtZW50LCBzdWJtaXRCdXR0b24pO1xuICAgIGlucHV0RWxlbWVudC5mb3JFYWNoKChpbnB1dHNFbGVtZW50cykgPT4ge1xuICAgICAgaW5wdXRzRWxlbWVudHMuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoIWlucHV0c0VsZW1lbnRzLnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICAgICAgaW5wdXRzRWxlbWVudHMuY2xhc3NMaXN0LmFkZChcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIik7XG4gICAgICAgICAgdGhpcy5fc2hvd0Vycm9yTWVzc2FnZShmb3JtRWxlbWVudHMsIGlucHV0c0VsZW1lbnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbnB1dHNFbGVtZW50cy5jbGFzc0xpc3QucmVtb3ZlKFwiZm9ybV9faW5wdXRfdHlwZV9lcnJvclwiKTtcbiAgICAgICAgICB0aGlzLl9oaWRlRXJyb3JNZXNzYWdlKGZvcm1FbGVtZW50cywgaW5wdXRzRWxlbWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RvZ2dsZVN1Ym1pdEJ1dHRvbihpbnB1dEVsZW1lbnQsIHN1Ym1pdEJ1dHRvbik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBfc2hvd0Vycm9yTWVzc2FnZShmb3JtRWxlbWVudHMsIGlucHV0c0VsZW1lbnRzKSB7XG4gICAgY29uc3QgZXJyb3JOb2RlID0gZm9ybUVsZW1lbnRzLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLnBvcHVwX19lcnJvcl8ke2lucHV0c0VsZW1lbnRzLm5hbWV9YFxuICAgICk7XG5cbiAgICBlcnJvck5vZGUudGV4dENvbnRlbnQgPSBpbnB1dHNFbGVtZW50cy52YWxpZGF0aW9uTWVzc2FnZTtcbiAgfVxuICBfaGlkZUVycm9yTWVzc2FnZShmb3JtRWxlbWVudHMsIGlucHV0c0VsZW1lbnRzKSB7XG4gICAgY29uc3QgZXJyb3JOb2RlID0gZm9ybUVsZW1lbnRzLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLnBvcHVwX19lcnJvcl8ke2lucHV0c0VsZW1lbnRzLm5hbWV9YFxuICAgICk7XG4gICAgZXJyb3JOb2RlLnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxuICBfdG9nZ2xlU3VibWl0QnV0dG9uKGlucHV0RWxlbWVudCwgc3VibWl0QnV0dG9uKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9pc0Zvcm1WYWxpZChpbnB1dEVsZW1lbnQpO1xuICAgIGlmICghc3RhdGUpIHtcbiAgICAgIHN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBfaXNGb3JtVmFsaWQoaW5wdXRFbGVtZW50KSB7XG4gICAgcmV0dXJuIGlucHV0RWxlbWVudC5ldmVyeSgoaXRlbSkgPT4ge1xuICAgICAgcmV0dXJuIGl0ZW0udmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBzZWxlY3Rvcikge1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICB9XG4gIHJlbmRlcmVyKCkge1xuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHRoaXMuX3JlbmRlcmVyKGl0ZW0pKTtcbiAgfVxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IodXNlcm5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IpIHtcbiAgICB0aGlzLl91c2VybmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlcm5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fam9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XG4gIH1cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXJuYW1lOiB0aGlzLl91c2VybmFtZS50ZXh0Q29udGVudC50cmltKCksXG4gICAgICBqb2I6IHRoaXMuX2pvYi50ZXh0Q29udGVudC50cmltKCksXG4gICAgfTtcbiAgfVxuICBzZXRVc2VySW5mbyh7IHVzZXJuYW1lLCBqb2IgfSkge1xuICAgIHRoaXMuX3VzZXJuYW1lLnRleHRDb250ZW50ID0gdXNlcm5hbWU7XG4gICAgdGhpcy5fam9iLnRleHRDb250ZW50ID0gam9iO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgY2FsbEJhY2spIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9zdWJtaXRDYWxsYmFjayA9IGNhbGxCYWNrO1xuICB9XG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xuICAgIGNvbnN0IGZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcImZvcm1cIik7XG4gICAgQXJyYXkuZnJvbShmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFwiKSkuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XG4gIH1cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICBjb25zdCBmb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJmb3JtXCIpO1xuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX3N1Ym1pdENhbGxiYWNrKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgZm9ybS5yZXNldCgpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuICB9XG4gIGNsb3NlKCkge1xuICAgIGNvbnN0IGZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcImZvcm1cIik7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxufVxuIiwiaW1wb3J0IFwiLi9wYWdlL2luZGV4LmNzc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCB7XG4gIGJvdG9uLFxuICBidG5BZGQsXG4gIGlucHV0QWJvdXQsXG4gIGlucHV0TmFtZSxcbiAgcHJvZmlsZU5hbWUsXG4gIHByb2ZpbGVBYm91dCxcbn0gZnJvbSBcIi4vdXRpbHMvdXRpbHMuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCB7IGNhcmRHZW5lcmF0b3IgfSBmcm9tIFwiLi91dGlscy91dGlscy5qc1wiO1xuY29uc3QgZm9ybVByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jb250YWluZXJcIik7XG5jb25zdCBmb3JtQ2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcHVwX2FkZENhcmRcIik7XG5jb25zdCBjYXJkQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNcIik7XG5jb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIlZhbGxlIGRlIFlvc2VtaXRlXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy95b3NlbWl0ZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFnbyBMb3Vpc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL2xha2UtbG91aXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJNb250YcOxYXMgQ2FsdmFzXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9iYWxkLW1vdW50YWlucy5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvbGF0ZW1hci5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiUGFycXVlIE5hY2lvbmFsIGRlIGxhIFZhbm9pc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL3Zhbm9pc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYWdvLmpwZ1wiLFxuICB9LFxuXTtcbi8vSW5zdGFuY2lhciBwYXJhIGFncmVnYXIgaW1hZ2VuZXMgY29uIGVsIGhhbmRsZXJDYXJkQ2xpY2tcbmNvbnN0IHBvcHVwSW1hZ2VDYXJkID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI3BvcHVwX2FkZFwiKTtcbmNvbnN0IHBvcHVwQWRkQnV0dG9uID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiI3ZlbnRhbmFfbW9kYWwtYWRkXCIsXG4gIChpbnB1dFZhbHVlcykgPT4ge1xuICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICAgIGlucHV0VmFsdWVzLm5hbWUsXG4gICAgICBpbnB1dFZhbHVlcy5saW5rLFxuICAgICAgXCIudGVtcGxhdGUtY2FyZFwiLFxuICAgICAge1xuICAgICAgICBoYW5kbGVDYXJkQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICBwb3B1cEltYWdlQ2FyZC5vcGVuKGlucHV0VmFsdWVzLm5hbWUsIGlucHV0VmFsdWVzLmxpbmspO1xuICAgICAgICB9LFxuICAgICAgfVxuICAgICk7XG4gICAgY2FyZEFyZWEucHJlcGVuZChjYXJkLmdlbmVyYXRlQ2FyZCgpKTtcbiAgfVxuKTtcbmNvbnN0IHVzZUluZm8gPSBuZXcgVXNlckluZm8oXG4gIFwiLnByb2ZpbGUtaW5mb19fYXZhdGFyX25hbWVcIixcbiAgXCIucHJvZmlsZS1pbmZvX19hdmF0YXJfb2N1cGF0aW9uXCJcbik7XG5jb25zdCBwb3B1cFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiN2ZW50YW5hX21vZGFsXCIsIChpbnB1dFZhbHVlcykgPT4ge1xuICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IGlucHV0VmFsdWVzLm5hbWU7XG4gIHByb2ZpbGVBYm91dC50ZXh0Q29udGVudCA9IGlucHV0VmFsdWVzLmFib3V0O1xuICBwb3B1cFByb2ZpbGUuY2xvc2UoKTtcbn0pO1xuYm90b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgcG9wdXBQcm9maWxlLm9wZW4oKTtcbiAgY29uc3QgdXNlckRhdGEgPSB1c2VJbmZvLmdldFVzZXJJbmZvKCk7XG4gIGlucHV0TmFtZS50ZXh0Q29udGVudCA9IHVzZXJEYXRhLnVzZXJuYW1lO1xuICBpbnB1dEFib3V0LnRleHRDb250ZW50cyA9IHVzZXJEYXRhLmpvYjtcbn0pO1xuYnRuQWRkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHBvcHVwQWRkQnV0dG9uLm9wZW4oKTtcbn0pO1xuXG5jb25zdCBmb3JtVmFsaWRhdG9yUHJvZmlsZSA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1Qcm9maWxlKTtcbmZvcm1WYWxpZGF0b3JQcm9maWxlLmVuYWJsZVZhbGlkYXRpb24oKTtcbmNvbnN0IGZvcm1WYWxpZGF0b3JBZGRDYXJkID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUNhcmRzKTtcbmZvcm1WYWxpZGF0b3JBZGRDYXJkLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3Qgc2VjdGlvbkNhcmRzID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICBpdGVtczogaW5pdGlhbENhcmRzLFxuICAgIHJlbmRlcmVyOiAoZWxlbWVudCkgPT4ge1xuICAgICAgY29uc3QgbmV3Q2FyZCA9IGNhcmRHZW5lcmF0b3IoZWxlbWVudC5uYW1lLCBlbGVtZW50LmxpbmspO1xuICAgICAgc2VjdGlvbkNhcmRzLmFkZEl0ZW0obmV3Q2FyZCk7XG4gICAgfSxcbiAgfSxcbiAgXCIuZWxlbWVudHNcIlxuKTtcblxuc2VjdGlvbkNhcmRzLnJlbmRlcmVyKCk7XG4iXSwibmFtZXMiOlsiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9wb3B1cEVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJfaGFuZGxlRXNjQ2xvc2VBdXgiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJrZXkiLCJ2YWx1ZSIsInN0eWxlIiwiZGlzcGxheSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5Q29kZSIsIndoaWNoIiwiY2xvc2UiLCJfdGhpcyIsImUiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwiX1BvcHVwIiwiX2NhbGxTdXBlciIsIl9wb3B1cEltYWdlIiwiX3BvcHVwVGl0bGUiLCJfaW5oZXJpdHMiLCJuYW1lIiwibGluayIsInNyYyIsInRleHRDb250ZW50IiwiYm90b24iLCJnZXRFbGVtZW50QnlJZCIsImJ0bkFkZCIsInByb2ZpbGVOYW1lIiwicHJvZmlsZUFib3V0IiwiaW5wdXROYW1lIiwiaW5wdXRBYm91dCIsInBvcHVwSW1hZ2UiLCJDYXJkIiwidGVtcGxhdGUiLCJfcmVmIiwiaGFuZGxlQ2FyZENsaWNrIiwiX25hbWUiLCJfbGluayIsIl90ZW1wbGF0ZSIsIl9oYW5kbGVDYXJkQ2xpY2siLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJJbWFnZSIsImNsb3NlSW1hZ2UiLCJvcGVuSW1hZ2UiLCJ0aXRsZUltYWdlIiwidG9nZ2xlIiwicmVtb3ZlQ2FyZCIsInJlbW92ZSIsIl9oYW5kbGVSZW1vdmUiLCJfaGFuZGxlckxpa2UiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJfc2V0RXZlbnRMaXN0ZW5lciIsImZvcm1FbGVtZW50cyIsImlucHV0RWxlbWVudCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzdWJtaXRCdXR0b24iLCJfdG9nZ2xlU3VibWl0QnV0dG9uIiwiZm9yRWFjaCIsImlucHV0c0VsZW1lbnRzIiwiZXZlbnQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVFcnJvck1lc3NhZ2UiLCJhZGQiLCJfc2hvd0Vycm9yTWVzc2FnZSIsImNvbmNhdCIsInZhbGlkYXRpb25NZXNzYWdlIiwic3RhdGUiLCJfaXNGb3JtVmFsaWQiLCJkaXNhYmxlZCIsImV2ZXJ5IiwiaXRlbSIsIlNlY3Rpb24iLCJzZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJjb250YWluZXIiLCJlbGVtZW50IiwiYXBwZW5kIiwiVXNlckluZm8iLCJ1c2VybmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJfdXNlcm5hbWUiLCJfam9iIiwidXNlcm5hbWUiLCJ0cmltIiwiam9iIiwiUG9wdXBXaXRoRm9ybSIsImNhbGxCYWNrIiwiX3N1Ym1pdENhbGxiYWNrIiwiaW5wdXRWYWx1ZXMiLCJmb3JtIiwiaW5wdXQiLCJfdGhpczIiLCJfc3VwZXJQcm9wR2V0IiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsImZvcm1Qcm9maWxlIiwiZm9ybUNhcmRzIiwiY2FyZEFyZWEiLCJwb3B1cEltYWdlQ2FyZCIsInBvcHVwQWRkQnV0dG9uIiwiY2FyZCIsIm9wZW4iLCJwcmVwZW5kIiwiZ2VuZXJhdGVDYXJkIiwidXNlSW5mbyIsInBvcHVwUHJvZmlsZSIsImFib3V0IiwidXNlckRhdGEiLCJnZXRVc2VySW5mbyIsInRleHRDb250ZW50cyIsImVuYWJsZVZhbGlkYXRpb24iLCJzZWN0aW9uQ2FyZHMiLCJuZXdDYXJkIiwiYWRkSXRlbSJdLCJzb3VyY2VSb290IjoiIn0=